{
  "openapi": "3.0.0",
  "info": {
    "title": "e-commerce-Smartshop-API",
    "version": "1.0.0",
    "description": "Proyecto completo de e-commerce desarrollado con Next.js, que expone una API robusta y segura para gestionar usuarios, productos, carritos y órdenes.Utiliza tecnologías modernas como Firebase para autenticación y base de datos, Airtable para gestión de datos, SendGrid para envío de correos, Algolia para búsqueda avanzada, Yup para validación y MercadoPago para pagos.Esta API está diseñada para ser escalable, eficiente y fácil de integrar, ofreciendo todos los endpoints necesarios para una experiencia completa tanto en frontend como backend."
  },
  "servers": [
    {
      "url": "https://e-commerce-backend-lake.vercel.app/api/",
      "description": "Production"
    },
    {
      "url": "http://localhost:3000/api/",
      "description": "Development"
    }
  ],
  "paths": {
    "/auth": {
      "post": {
        "summary": "send code",
        "description": "Inicia el flujo de autenticaci\u00f3n. \n\nEste endpoint recibe una direcci\u00f3n de email, busca un usuario existente o lo crea si no existe, y luego env\u00eda un c\u00f3digo de verificaci\u00f3n \u00fanico al correo proporcionado. \n\nEste c\u00f3digo se utiliza en el siguiente paso para validar la identidad del usuario.",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  }
                },
                "example": {
                  "email": "demo.user@gmail.com"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Código enviado exitosamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Codigo Enviado"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Solicitud inválida. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Email no enviado"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor"
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error"
                    }
                  }
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/auth/token": {
      "post": {
        "summary": "get token",
        "description": "Autentica al usuario mediante el c\u00f3digo recibido por email.\n\nSi la combinaci\u00f3n es v\u00e1lida, se devuelve un token de sesi\u00f3n.",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "code": {
                    "type": "string"
                  }
                },
                "example": {
                  "email": "demo.user@gmail.com",
                  "code": 72002
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Usuario autenticado correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Codigo Enviado"
                    },
                    "token": {
                      "type": "string",
                      "example": "aqui devuelve un token valido asociado al usuario"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "el code ingresado a expirado"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor"
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error"
                    }
                  }
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/me": {
      "get": {
        "summary": "get user data",
        "description": "Devuelve los datos del usuario actualmente autenticado. \n\nRequiere un token de acceso v\u00e1lido en el encabezado de la solicitud.",
        "parameters": [],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Datos del usuario obtenidos correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "cart": {
                          "type": "array",
                          "items": {},
                          "description": "Lista de productos en el carrito (vacía en este ejemplo)"
                        },
                        "address": {
                          "type": "object",
                          "properties": {
                            "street": {
                              "type": "string",
                              "example": "Hazle Square 261 Grant Street"
                            },
                            "locality": {
                              "type": "string",
                              "example": "CABA"
                            },
                            "city": {
                              "type": "string",
                              "example": "Hailieburgh"
                            },
                            "state": {
                              "type": "string",
                              "example": "BA"
                            },
                            "postalCode": {
                              "type": "integer",
                              "example": 1809
                            },
                            "country": {
                              "type": "string",
                              "example": ""
                            }
                          }
                        },
                        "phoneNumber": {
                          "type": "string",
                          "example": "1234567890"
                        },
                        "userName": {
                          "type": "string",
                          "example": "user"
                        },
                        "email": {
                          "type": "string",
                          "example": "userDemo@gmail.com"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "token invalido o no autorizado."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor"
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "patch": {
        "summary": "update user data",
        "description": "Permite modificar parcialmente la informaci\u00f3n del usuario autenticado.\n\n\nEs necesario enviar un token de acceso v\u00e1lido y los campos a actualizar en el cuerpo de la solicitud.",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "userName": {
                    "type": "string"
                  },
                  "phoneNumber": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  }
                },
                "example": {
                  "email": "userDemo@gmail.com",
                  "userName": "user",
                  "phoneNumber": "1234567890",
                  "address": {
                    "state": "BA",
                    "locality": "CABA",
                    "city": "{% faker 'randomCity' %}",
                    "street": "{% faker 'randomStreetName' %} {% faker 'randomStreetAddress' %}",
                    "postalCode": 1809
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Datos actualizados correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Datos actualizados."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "token invalido o no autorizado."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/me/cart": {
      "get": {
        "summary": "get cart data",
        "description": "Devuelve la informaci\u00f3n actual del carrito del usuario que realiza la solicitud. \n\nEs necesario incluir un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Lista de items del carrito de compras",
            "content": {
              "application/json": {
                "example": [
                  {
                    "productId": "24",
                    "brand": "XIAOMI",
                    "model": "NOTE 13",
                    "storage": "256 GB",
                    "ram": "8 GB",
                    "rearCamera": "108 MPX",
                    "frontCamera": "16 MPX",
                    "colour": "MINT GREEN",
                    "price": 549999,
                    "photo": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513613/vlfbwfewrcbcqjvc1tbr.webp",
                    "system": "ANDROID",
                    "version": 13,
                    "familyModel": "REDMI",
                    "totalPrice": 549999,
                    "quantity": 1,
                    "stock": 9,
                    "objectID": "24"
                  }
                ]
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "token invalido o no autorizado."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "summary": "add product cart data",
        "description": "Agrega una cantidad espec\u00edfica de un producto al carrito del usuario autenticado. \n\nEl ID del producto se recibe como par\u00e1metro en la URL, y la cantidad en el cuerpo de la solicitud. \n\nSi el producto ya est\u00e1 en el carrito, se actualiza su cantidad. \n\nEs necesario enviar un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "quantity": {
                    "type": "string"
                  }
                },
                "example": {
                  "quantity": 1
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Se añadió el producto al carrito de compras.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "el producto id 29 fue agregado."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "token invalido o no autorizado."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "summary": "reset cart data",
        "description": "Elimina todos los productos del carrito del usuario autenticado, dejando el carrito vac\u00edo.\n\nRequiere un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Datos actualizados correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "El carrito esta vacio."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "token invalido o no autorizado."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "summary": "delete product in cart data",
        "description": "Elimina un producto espec\u00edfico del carrito del usuario autenticado. \n\nEl ID del producto se recibe como par\u00e1metro en la URL. \n\nEs necesario enviar un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Datos actualizados correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "el producto id 24 fue eliminado."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "token invalido o no autorizado."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/product/featured": {
      "get": {
        "summary": "featured products",
        "description": "Devuelve la lista completa de productos destacados para mostrar en la interfaz de usuario.\n\nNo requiere autenticaci\u00f3n.",
        "parameters": [],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Lista de productos destacados obtenida correctamente",
            "content": {
              "application/json": {
                "example": [
                  {
                    "productId": "9",
                    "brand": "MOTOROLA",
                    "model": "60 ULTRA",
                    "storage": "1 TB",
                    "ram": "16 GB",
                    "rearCamera": "50 MPX",
                    "frontCamera": "50 MPX",
                    "colour": "PANTONE SCARAB",
                    "price": 1999999,
                    "photo": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513613/ykiosywepoxdx0t45aqw.webp",
                    "system": "ANDROID",
                    "version": 15,
                    "familyModel": "RAZR",
                    "totalPrice": 1999999,
                    "quantity": 0,
                    "stock": 10,
                    "objectID": "9"
                  },
                  {
                    "productId": "31",
                    "brand": "APPLE",
                    "model": "16 PRO MAX",
                    "storage": "512 GB",
                    "ram": "8 GB",
                    "rearCamera": "48 MPX",
                    "frontCamera": "12 MPX",
                    "colour": "TITANIUM BLACK",
                    "price": 3499999,
                    "photo": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513613/nbjjfc5nbvkd2ekryljq.webp",
                    "system": "IOS",
                    "version": 18,
                    "familyModel": "IPHONE",
                    "totalPrice": 3499999,
                    "quantity": 0,
                    "stock": 10,
                    "objectID": "31"
                  },
                  {
                    "productId": "23",
                    "brand": "XIAOMI",
                    "model": "14 T",
                    "storage": "512 GB",
                    "ram": "12 GB",
                    "rearCamera": "50 MPX",
                    "frontCamera": "32 MPX",
                    "colour": "TITAN BLUE",
                    "price": 1619999,
                    "photo": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513613/jtwp6kzflxcothlun0wm.webp",
                    "system": "ANDROID",
                    "version": 14,
                    "familyModel": "XIAOMI",
                    "totalPrice": 1619999,
                    "quantity": 0,
                    "stock": 10,
                    "objectID": "23"
                  },
                  {
                    "productId": "18",
                    "brand": "SAMSUNG",
                    "model": "S25 ULTRA",
                    "storage": "512 GB",
                    "ram": "12 GB",
                    "rearCamera": "200 MPX",
                    "frontCamera": "12 MPX",
                    "colour": "TITANIUM SILVERBLUE",
                    "price": 2549999,
                    "photo": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513613/qfqxw1hucb94s0or8lit.webp",
                    "system": "ANDROID",
                    "version": 15,
                    "familyModel": "GALAXY",
                    "totalPrice": 2549999,
                    "quantity": 0,
                    "stock": 5,
                    "objectID": "18"
                  }
                ]
              }
            }
          },
          "400": {
            "description": "Error interno al realizar la búsqueda en Algolia.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Hubo un problema con la búsqueda: Invalid Application-ID or API key"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/product/{productId}": {
      "get": {
        "summary": "product by id",
        "description": "Recibe el ID de un producto como par\u00e1metro de ruta, realiza una b\u00fasqueda en Algolia y devuelve los datos correspondientes al producto.\n\nNo requiere autenticaci\u00f3n.",
        "parameters": [
          {
            "name": "productId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Devuelve los datos del producto correctamente",
            "content": {
              "application/json": {
                "example": {
                  "productId": "24",
                  "brand": "XIAOMI",
                  "model": "NOTE 13",
                  "storage": "256 GB",
                  "ram": "8 GB",
                  "rearCamera": "108 MPX",
                  "frontCamera": "16 MPX",
                  "colour": "MINT GREEN",
                  "price": 549999,
                  "photo": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513613/vlfbwfewrcbcqjvc1tbr.webp",
                  "system": "ANDROID",
                  "version": 13,
                  "familyModel": "REDMI",
                  "totalPrice": 549999,
                  "quantity": 0,
                  "stock": 9,
                  "objectID": "24"
                }
              }
            }
          },
          "400": {
            "description": "Error interno al realizar la búsqueda en Algolia.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Hubo un problema con la búsqueda: Invalid Application-ID or API key"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "/order/myorders": {
      "get": {
        "summary": "my orders",
        "description": "Devuelve la lista de \u00f3rdenes previamente realizadas por el usuario autenticado.\n\nCada orden incluye informaci\u00f3n como el estado, los productos comprados, la fecha y el total.\n\nEs necesario enviar un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Respuesta exitosa con el detalle de la(s) orden(es).",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "userId": {
                            "type": "string",
                            "example": "J6ZLsDlddwV335F6KWTR"
                          },
                          "products": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "productId": {
                                  "type": "string",
                                  "example": "29"
                                },
                                "brand": {
                                  "type": "string",
                                  "example": "APPLE"
                                },
                                "familyModel": {
                                  "type": "string",
                                  "example": "IPHONE"
                                },
                                "model": {
                                  "type": "string",
                                  "example": "15"
                                },
                                "colour": {
                                  "type": "string",
                                  "example": "GREEN"
                                },
                                "photo": {
                                  "type": "string",
                                  "format": "uri",
                                  "example": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513612/y8mxvi1bi7dqijvxesh0.webp"
                                },
                                "quantity": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "price": {
                                  "type": "number",
                                  "example": 1550999
                                }
                              }
                            }
                          },
                          "totalPrice": {
                            "type": "number",
                            "example": 1550999
                          },
                          "additionalInfo": {
                            "type": "string",
                            "example": "envio a domicilio"
                          },
                          "created": {
                            "type": "string",
                            "example": "28/06/2025, 19:30:13"
                          },
                          "orderId": {
                            "type": "string",
                            "example": "BNVLTBg9l9B98fjfiYww"
                          },
                          "url": {
                            "type": "string",
                            "format": "uri",
                            "example": "https://www.mercadopago.com.ar/checkout/v1/redirect?pref_id=1631873438-4e0859b1-ba36-4c40-8f62-5a7de41d12d6"
                          },
                          "status": {
                            "type": "string",
                            "example": "closed"
                          },
                          "payment": {
                            "type": "object",
                            "properties": {
                              "paymentId": {
                                "type": "integer",
                                "example": 116221235241
                              },
                              "paymentCreated": {
                                "type": "string",
                                "example": "28/06/2025, 20:05:48"
                              },
                              "currencyId": {
                                "type": "string",
                                "example": "ARS"
                              },
                              "status": {
                                "type": "string",
                                "example": "approved"
                              },
                              "statusDetail": {
                                "type": "string",
                                "example": "accredited"
                              },
                              "installments": {
                                "type": "integer",
                                "example": 2
                              },
                              "paymentMethodId": {
                                "type": "string",
                                "example": "visa"
                              },
                              "paymentTypeId": {
                                "type": "string",
                                "example": "credit_card"
                              },
                              "transactionAmount": {
                                "type": "number",
                                "example": 1550999
                              },
                              "transactionInstallmentAmout": {
                                "type": "number",
                                "example": 917726.11
                              },
                              "transactionTotalAmount": {
                                "type": "number",
                                "example": 1835452.22
                              },
                              "fourDigitsCard": {
                                "type": "string",
                                "example": "3704"
                              }
                            }
                          },
                          "expire": {
                            "type": "boolean",
                            "example": true
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "token invalido o no autorizado."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/order/myorders/{orderId}": {
      "get": {
        "summary": "orders by id",
        "description": "Devuelve la informaci\u00f3n detallada de una orden espec\u00edfica, identificada por su ID en los par\u00e1metros de la URL.\n\n\nSolo puede accederse a \u00f3rdenes del usuario autenticado.\n\n\nEs necesario enviar un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Devuelve los datos de la orden asignada al Id",
            "content": {
              "application/json": {
                "example": {
                  "data": {
                    "userId": "J6ZLsDlddwV335F6KWTR",
                    "products": [
                      {
                        "productId": "29",
                        "brand": "APPLE",
                        "familyModel": "IPHONE",
                        "model": "15",
                        "colour": "GREEN",
                        "photo": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513612/y8mxvi1bi7dqijvxesh0.webp",
                        "quantity": 1,
                        "price": 1550999
                      }
                    ],
                    "totalPrice": 1550999,
                    "additionalInfo": "envio a domicilio",
                    "created": "28/06/2025, 19:30:13",
                    "orderId": "BNVLTBg9l9B98fjfiYww",
                    "url": "https://www.mercadopago.com.ar/checkout/v1/redirect?pref_id=1631873438-4e0859b1-ba36-4c40-8f62-5a7de41d12d6",
                    "status": "closed",
                    "payment": {
                      "paymentId": 116221235241,
                      "paymentCreated": "28/06/2025, 20:05:48",
                      "currencyId": "ARS",
                      "status": "approved",
                      "statusDetail": "accredited",
                      "installments": 2,
                      "paymentMethodId": "visa",
                      "paymentTypeId": "credit_card",
                      "transactionAmount": 1550999,
                      "transactionInstallmentAmout": 917726.11,
                      "transactionTotalAmount": 1835452.22,
                      "fourDigitsCard": "3704"
                    },
                    "expire": true
                  }
                }
              }
            }
          },
          "401": {
            "description": "Acceso no autorizado. Por ejemplo, datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "token invalido o no autorizado."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "summary": "delete order by id",
        "description": "Elimina una orden espec\u00edfica del usuario autenticado, identificada por su ID en los par\u00e1metros de la URL.\n\n\nSolo puede eliminarse una orden si pertenece al usuario autenticado.\n\n\nEs necesario enviar un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Elimina una orden identificada por Id.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string",
                      "example": "orden 1234abcd eliminada correctamente."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "No encontrado. El objeto con el `objectID` especificado no existe en Algolia.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error al encontrar el producto."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/order": {
      "post": {
        "summary": "create order",
        "description": "Crea una nueva orden utilizando los productos del carrito del usuario autenticado y genera una preferencia de pago en MercadoPago.\n\n\nAdem\u00e1s, recibe un valor opcional en el cuerpo de la solicitud (additionalInfo) que se guarda junto a la orden.\n\n\nDevuelve la URL de MercadoPago para redirigir al usuario a finalizar el pago.\n\n\nEs necesario enviar un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "additionalInfo": {
                    "type": "string"
                  }
                },
                "example": {
                  "additionalInfo": "envio a domicilio"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Devuelve una url de pago de Mercado Pago.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string",
                      "example": "https://www.mercadopago.com.ar/checkout/v1/redirect?pref_id=1631873438-4e0859b1-ba36-4c40-8f62-5a7de41d12d6"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Solicitud inválida. Datos de la preferencia incompletos o mal formateados."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/order/payment/{paymentId}": {
      "get": {
        "summary": "payment by id",
        "description": "Devuelve el estado actual de un pago de MercadoPago identificado por el ID recibido como par\u00e1metro.\n\nAdem\u00e1s, actualiza en la base de datos los datos relevantes de la orden asociada seg\u00fan la informaci\u00f3n recibida del pago.\n\nEste servicio permite sincronizar el estado de la orden local con el estado real del pago en MercadoPago.\n\nEs necesario enviar un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [
          {
            "name": "paymentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Datos del pago obtenidos correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "string",
                          "example": "J6ZLsDlddwV335F6KWTR"
                        },
                        "products": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "productId": {
                                "type": "string",
                                "example": "29"
                              },
                              "brand": {
                                "type": "string",
                                "example": "APPLE"
                              },
                              "familyModel": {
                                "type": "string",
                                "example": "IPHONE"
                              },
                              "model": {
                                "type": "string",
                                "example": "15"
                              },
                              "colour": {
                                "type": "string",
                                "example": "GREEN"
                              },
                              "photo": {
                                "type": "string",
                                "format": "uri",
                                "example": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513612/y8mxvi1bi7dqijvxesh0.webp"
                              },
                              "quantity": {
                                "type": "integer",
                                "example": 1
                              },
                              "price": {
                                "type": "integer",
                                "example": 1550999
                              }
                            }
                          }
                        },
                        "totalPrice": {
                          "type": "integer",
                          "example": 1550999
                        },
                        "additionalInfo": {
                          "type": "string",
                          "example": "envio a domicilio"
                        },
                        "created": {
                          "type": "string",
                          "example": "28/06/2025, 19:30:13"
                        },
                        "orderId": {
                          "type": "string",
                          "example": "BNVLTBg9l9B98fjfiYww"
                        },
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "example": "https://www.mercadopago.com.ar/checkout/v1/redirect?pref_id=1631873438-4e0859b1-ba36-4c40-8f62-5a7de41d12d6"
                        },
                        "status": {
                          "type": "string",
                          "example": "approved"
                        },
                        "expire": {
                          "type": "boolean",
                          "example": true
                        },
                        "payment": {
                          "type": "object",
                          "properties": {
                            "paymentId": {
                              "type": "integer",
                              "example": 116221235241
                            },
                            "paymentCreated": {
                              "type": "string",
                              "example": "2025-06-28T19:05:48.000-04:00"
                            },
                            "currencyId": {
                              "type": "string",
                              "example": "ARS"
                            },
                            "status": {
                              "type": "string",
                              "example": "approved"
                            },
                            "statusDetail": {
                              "type": "string",
                              "example": "accredited"
                            },
                            "installments": {
                              "type": "integer",
                              "example": 2
                            },
                            "paymentMethodId": {
                              "type": "string",
                              "example": "visa"
                            },
                            "paymentTypeId": {
                              "type": "string",
                              "example": "credit_card"
                            },
                            "transactionAmount": {
                              "type": "number",
                              "example": 1550999
                            },
                            "transactionInstallmentAmout": {
                              "type": "number",
                              "example": 917726.11
                            },
                            "transactionTotalAmount": {
                              "type": "number",
                              "example": 1835452.22
                            },
                            "fourDigitsCard": {
                              "type": "string",
                              "example": "3704"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Solicitud inválida. Por ejemplo, ID de pago incorrecto o formato inválido."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/ipn/mercadopago": {
      "post": {
        "summary": "IPN",
        "description": "Utilizado como webhook para recibir notificaciones de MercadoPago cuando un pago ha sido creado o actualizado.\n\nRecibe los par\u00e1metros topic e id a trav\u00e9s de la URL (query params), los cuales se utilizan para obtener los datos del pago correspondiente.\n\nUna vez confirmado el pago, se actualiza el estado de la orden en la base de datos, se env\u00eda un email al usuario informando que el pago fue exitoso y se registra un aviso interno (como un correo al equipo o una entrada en Airtable).\n\n\ud83d\udd01 En producci\u00f3n, MercadoPago realiza autom\u00e1ticamente esta solicitud.\n\u2699\ufe0f En modo local, se puede probar manualmente simulando la notificaci\u00f3n con los par\u00e1metros en la URL.\n\nEs necesario enviar un token de acceso v\u00e1lido en el encabezado.",
        "parameters": [
          {
            "name": "topic",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Notificación de compra exitosa.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Compra exitosa."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno al procesar la notificación de pago"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/search": {
      "get": {
        "summary": "search products by query",
        "description": "Realiza una busqueda en Algolia,utilizando filtros avanzados como marca, modelo, sistema operativo, color y caracter\u00edsticas de c\u00e1mara. \n\n\nTambi\u00e9n permite limitar el rango de precios (priceMin, priceMax), ordenar los resultados (sort) y aplicar paginaci\u00f3n mediante offset y limit.\n\nNo requiere autenticacion.",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "brand",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "familyModel",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "colour",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "priceMin",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "priceMax",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Lista de productos obtenida exitosamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "productId": {
                            "type": "string",
                            "example": "22"
                          },
                          "brand": {
                            "type": "string",
                            "example": "SAMSUNG"
                          },
                          "model": {
                            "type": "string",
                            "example": "FLIP 6"
                          },
                          "storage": {
                            "type": "string",
                            "example": "512 GB"
                          },
                          "ram": {
                            "type": "string",
                            "example": "12 GB"
                          },
                          "rearCamera": {
                            "type": "string",
                            "example": "50 MPX"
                          },
                          "frontCamera": {
                            "type": "string",
                            "example": "10 MPX"
                          },
                          "colour": {
                            "type": "string",
                            "example": "BLUE"
                          },
                          "price": {
                            "type": "number",
                            "example": 1699999
                          },
                          "photo": {
                            "type": "string",
                            "format": "uri",
                            "example": "https://res.cloudinary.com/dkwjm2ocu/image/upload/v1749513612/jcd9be75fpvpcpjscmar.webp"
                          },
                          "system": {
                            "type": "string",
                            "example": "ANDROID"
                          },
                          "version": {
                            "type": "number",
                            "example": 14
                          },
                          "familyModel": {
                            "type": "string",
                            "example": "Z"
                          },
                          "totalPrice": {
                            "type": "number",
                            "example": 1699999
                          },
                          "quantity": {
                            "type": "number",
                            "example": 0
                          },
                          "stock": {
                            "type": "number",
                            "example": 10
                          },
                          "objectID": {
                            "type": "string",
                            "example": "22"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "offset": {
                          "type": "number",
                          "example": 0
                        },
                        "limit": {
                          "type": "number",
                          "example": 10
                        },
                        "totalResults": {
                          "type": "number",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error interno al realizar la búsqueda en Algolia.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Hubo un problema con la búsqueda: Invalid Application-ID or API key"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": []
      }
    },
    "sync": {
      "post": {
        "summary": "sync Airtable Data with Algolia Index",
        "description": "Obtiene los registros desde una tabla de Airtable y los sincroniza con el \u00edndice de Algolia. \n\nEste proceso actualiza o reemplaza los productos en Algolia para reflejar los datos m\u00e1s recientes de Airtable.\n\nNo requiere autenticacion.",
        "parameters": [],
        "requestBody": null,
        "responses": {
          "200": {
            "description": "Base de datos sincronizada correctamente.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Base de datos sincronizada."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos faltantes o formato incorrecto.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Hubo un Error al obtener los datos:No hay records disponibles."
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error interno del servidor.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Error interno del servidor."
                    },
                    "error": {
                      "type": "string",
                      "example": "Detalles técnicos del error."
                    }
                  }
                }
              }
            }
          }
        },
        "security": []
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ]
}